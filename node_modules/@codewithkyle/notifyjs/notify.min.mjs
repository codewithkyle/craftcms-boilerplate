class SnackbarComponent extends HTMLElement{constructor(snackbar){super(),this.handleActionButtonClick=e=>{const target=e.currentTarget,index=parseInt(target.dataset.index);this.settings.buttons[index].callback()},this.handleCloseClickEvent=()=>{this.remove()},this.settings=snackbar,this.render()}render(){this.dataset.uid=this.settings.uid;for(let i=0;i<this.settings.classes.length;i++)this.classList.add(this.settings.classes[i]);const message=document.createElement("p");if(message.innerText=this.settings.message,this.settings.closeable||this.settings.buttons.length?message.setAttribute("role","alertdialog"):message.setAttribute("role","alert"),this.appendChild(message),this.settings.closeable||this.settings.buttons.length){const actionsWrapper=document.createElement("snackbar-actions");if(this.settings.buttons.length)for(let i=0;i<this.settings.buttons.length;i++){const button=document.createElement("button");button.innerText=this.settings.buttons[i].label,button.dataset.index=`${i}`;for(let k=0;k<this.settings.buttons[i].classes.length;k++)button.classList.add(this.settings.buttons[i].classes[k]);this.settings.buttons[i].ariaLabel&&button.setAttribute("aria-label",this.settings.buttons[i].ariaLabel),button.addEventListener("click",this.handleActionButtonClick),actionsWrapper.appendChild(button)}if(this.settings.closeable){const closeButton=document.createElement("button");closeButton.setAttribute("aria-label","close notification"),closeButton.className="close js-snackbar-close",closeButton.innerHTML='<svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="times" class="svg-inline--fa fa-times fa-w-10" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M207.6 256l107.72-107.72c6.23-6.23 6.23-16.34 0-22.58l-25.03-25.03c-6.23-6.23-16.34-6.23-22.58 0L160 208.4 52.28 100.68c-6.23-6.23-16.34-6.23-22.58 0L4.68 125.7c-6.23 6.23-6.23 16.34 0 22.58L112.4 256 4.68 363.72c-6.23 6.23-6.23 16.34 0 22.58l25.03 25.03c6.23 6.23 16.34 6.23 22.58 0L160 303.6l107.72 107.72c6.23 6.23 16.34 6.23 22.58 0l25.03-25.03c6.23-6.23 6.23-16.34 0-22.58L207.6 256z"></path></svg>',closeButton.addEventListener("click",this.handleCloseClickEvent),actionsWrapper.appendChild(closeButton)}this.appendChild(actionsWrapper)}}connectedCallback(){if(this.settings.autofocus){const closeButton=this.querySelector(".js-snackbar-close");closeButton&&closeButton.focus()}if(this.settings.buttons.length)for(let i=0;i<this.settings.buttons.length;i++)if(this.settings.buttons[i].autofocus){const button=this.querySelector(`button[data-index="${i}"]`);if(button){button.focus();break}}}}class ToastComponent extends HTMLElement{constructor(snackbar){super(),this.handleCloseClickEvent=()=>{this.remove()},this.handleActionButtonClick=e=>{const target=e.currentTarget,index=parseInt(target.dataset.index);this.settings.buttons[index].callback()},this.settings=snackbar,this.render()}render(){this.dataset.uid=this.settings.uid;for(let i=0;i<this.settings.classes.length;i++)this.classList.add(this.settings.classes[i]);if(this.settings.icon){const icon=document.createElement("i");icon.innerHTML=this.settings.icon,this.appendChild(icon)}const copyWrapper=document.createElement("copy-wrapper"),title=document.createElement("h3");title.innerText=this.settings.title,this.settings.closeable?title.setAttribute("role","alertdialog"):title.setAttribute("role","alert"),copyWrapper.appendChild(title);const message=document.createElement("p");if(message.innerText=this.settings.message,copyWrapper.appendChild(message),this.appendChild(copyWrapper),this.settings.buttons.length){const actionsWrapper=document.createElement("toast-actions");for(let i=0;i<this.settings.buttons.length;i++){const button=document.createElement("button");button.innerText=this.settings.buttons[i].label,button.dataset.index=`${i}`;for(let k=0;k<this.settings.buttons[i].classes.length;k++)button.classList.add(this.settings.buttons[i].classes[k]);this.settings.buttons[i].ariaLabel&&button.setAttribute("aria-label",this.settings.buttons[i].ariaLabel),button.addEventListener("click",this.handleActionButtonClick),actionsWrapper.appendChild(button)}copyWrapper.appendChild(actionsWrapper)}if(this.settings.closeable){const closeButton=document.createElement("button");closeButton.setAttribute("aria-label","close notification"),closeButton.className="close js-toast-close",closeButton.innerHTML='<svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="times" class="svg-inline--fa fa-times fa-w-10" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M207.6 256l107.72-107.72c6.23-6.23 6.23-16.34 0-22.58l-25.03-25.03c-6.23-6.23-16.34-6.23-22.58 0L160 208.4 52.28 100.68c-6.23-6.23-16.34-6.23-22.58 0L4.68 125.7c-6.23 6.23-6.23 16.34 0 22.58L112.4 256 4.68 363.72c-6.23 6.23-6.23 16.34 0 22.58l25.03 25.03c6.23 6.23 16.34 6.23 22.58 0L160 303.6l107.72 107.72c6.23 6.23 16.34 6.23 22.58 0l25.03-25.03c6.23-6.23 6.23-16.34 0-22.58L207.6 256z"></path></svg>',closeButton.addEventListener("click",this.handleCloseClickEvent),this.appendChild(closeButton)}if(this.settings.timer){const timer=document.createElement("toast-timer");timer.className=this.settings.timer,"horizontal"===this.settings.timer?timer.style.transform="scaleX(1)":timer.style.transform="scaleY(1)",this.append(timer)}}connectedCallback(){if(this.settings.autofocus){const closeButton=this.querySelector(".js-toast-close");closeButton&&closeButton.focus()}if(this.settings.buttons.length)for(let i=0;i<this.settings.buttons.length;i++)if(this.settings.buttons[i].autofocus){const button=this.querySelector(`button[data-index="${i}"]`);if(button){button.focus();break}}}}class Notifier{constructor(){this.snackbarQueue=[],this.toaster=[],this.time=performance.now(),this.loop()}uid(){return new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-")}loop(){var _a,_b,_c,_d,_e,_f,_g,_h;const newTime=performance.now(),deltaTime=(newTime-this.time)/1e3;if(this.time=newTime,document.hasFocus()){for(let i=this.toaster.length-1;i>=0;i--)if((null===(_a=this.toaster[i])||void 0===_a?void 0:_a.duration)&&(null===(_b=this.toaster[i])||void 0===_b?void 0:_b.duration)!==1/0){if(this.toaster[i].duration-=deltaTime,this.toaster[i].timer){const scale=this.toaster[i].duration/this.toaster[i].timerDuration;"vertical"===this.toaster[i].timer?this.toaster[i].timerEl.style.transform=`scaleY(${scale})`:this.toaster[i].timerEl.style.transform=`scaleX(${scale})`}this.toaster[i].duration<=0&&(this.toaster[i].el.remove(),this.toaster.splice(i,1))}this.snackbarQueue.length&&((null===(_d=null===(_c=this.snackbarQueue)||void 0===_c?void 0:_c[0])||void 0===_d?void 0:_d.el)||(this.snackbarQueue[0].el=new SnackbarComponent(this.snackbarQueue[0]),document.body.appendChild(this.snackbarQueue[0].el)),(null===(_e=this.snackbarQueue[0])||void 0===_e?void 0:_e.duration)&&(null===(_f=this.snackbarQueue[0])||void 0===_f?void 0:_f.duration)!==1/0&&(null===(_h=null===(_g=this.snackbarQueue[0])||void 0===_g?void 0:_g.el)||void 0===_h?void 0:_h.isConnected)&&(this.snackbarQueue[0].duration-=deltaTime,this.snackbarQueue[0].duration<=0&&(this.snackbarQueue[0].el.remove(),this.snackbarQueue.splice(0,1))))}window.requestAnimationFrame(this.loop.bind(this))}snackbar(settings){var _a,_b,_c,_d,_e,_f,_g,_h;const snackbar={};if(!(null==settings?void 0:settings.message)||0===(null===(_a=null==settings?void 0:settings.message)||void 0===_a?void 0:_a.length))return void console.error("Snackbar notificaitons require a message");snackbar.message=settings.message,snackbar.uid=this.uid(),snackbar.el=null;let classes=[];(null==settings?void 0:settings.classes)&&(classes=Array.isArray(settings.classes)?settings.classes:[settings.classes]),snackbar.classes=classes,"number"==typeof(null==settings?void 0:settings.duration)||(null==settings?void 0:settings.duration)===1/0?snackbar.duration=settings.duration:snackbar.duration=3,void 0!==(null==settings?void 0:settings.closeable)&&"boolean"==typeof(null==settings?void 0:settings.closeable)?snackbar.closeable=null==settings?void 0:settings.closeable:snackbar.closeable=!0,void 0!==(null==settings?void 0:settings.force)&&"boolean"==typeof(null==settings?void 0:settings.force)?snackbar.force=null==settings?void 0:settings.force:snackbar.force=!1,void 0!==(null==settings?void 0:settings.autofocus)&&"boolean"==typeof(null==settings?void 0:settings.autofocus)?snackbar.autofocus=settings.autofocus:snackbar.autofocus=!0;let buttons=[];(null==settings?void 0:settings.buttons)&&(buttons=Array.isArray(settings.buttons)?settings.buttons:[settings.buttons]),snackbar.buttons=buttons;for(let i=0;i<snackbar.buttons.length;i++)(null===(_b=snackbar.buttons[i])||void 0===_b?void 0:_b.classes)?Array.isArray(snackbar.buttons[i].classes)?snackbar.buttons[i].classes=snackbar.buttons[i].classes:snackbar.buttons[i].classes=[snackbar.buttons[i].classes]:snackbar.buttons[i].classes=[],(null===(_c=snackbar.buttons[i])||void 0===_c?void 0:_c.ariaLabel)||(snackbar.buttons[i].ariaLabel=null),(null===(_d=snackbar.buttons[i])||void 0===_d?void 0:_d.label)||(console.error("Snackbar buttons require a label"),snackbar.buttons[i].label=null),(null===(_e=snackbar.buttons[i])||void 0===_e?void 0:_e.callback)||(console.error("Snackbar buttons require a callback function"),snackbar.buttons[i].callback=()=>{}),(null===(_f=snackbar.buttons[i])||void 0===_f?void 0:_f.autofocus)?snackbar.autofocus=!1:snackbar.buttons[i].autofocus=!1;snackbar.force&&this.snackbarQueue.length?((null===(_h=null===(_g=this.snackbarQueue[0])||void 0===_g?void 0:_g.el)||void 0===_h?void 0:_h.isConnected)&&this.snackbarQueue[0].el.remove(),this.snackbarQueue.splice(0,1,snackbar)):this.snackbarQueue.push(snackbar)}toast(settings){var _a,_b,_c,_d,_e,_f,_g;const toast={};if(!(null==settings?void 0:settings.message)||0===(null===(_a=null==settings?void 0:settings.message)||void 0===_a?void 0:_a.length))return void console.error("Toast notificaitons require a message");if(!(null==settings?void 0:settings.title)||0===(null===(_b=null==settings?void 0:settings.title)||void 0===_b?void 0:_b.length))return void console.error("Toast notificaitons require a title");toast.title=settings.title,toast.message=settings.message,toast.uid=this.uid();let classes=[];(null==settings?void 0:settings.classes)&&(classes=Array.isArray(settings.classes)?settings.classes:[settings.classes]),toast.classes=classes,"number"==typeof(null==settings?void 0:settings.duration)||(null==settings?void 0:settings.duration)===1/0?toast.duration=settings.duration:toast.duration=3,void 0!==(null==settings?void 0:settings.closeable)&&"boolean"==typeof(null==settings?void 0:settings.closeable)?toast.closeable=settings.closeable:toast.closeable=!0,(null==settings?void 0:settings.icon)&&"string"==typeof(null==settings?void 0:settings.icon)?toast.icon=settings.icon:toast.icon=null,void 0!==(null==settings?void 0:settings.autofocus)&&"boolean"==typeof(null==settings?void 0:settings.autofocus)?toast.autofocus=settings.autofocus:toast.autofocus=!1;let buttons=[];(null==settings?void 0:settings.buttons)&&(buttons=Array.isArray(settings.buttons)?settings.buttons:[settings.buttons]),toast.buttons=buttons;for(let i=0;i<toast.buttons.length;i++)(null===(_c=toast.buttons[i])||void 0===_c?void 0:_c.classes)?Array.isArray(toast.buttons[i].classes)?toast.buttons[i].classes=toast.buttons[i].classes:toast.buttons[i].classes=[toast.buttons[i].classes]:toast.buttons[i].classes=[],(null===(_d=toast.buttons[i])||void 0===_d?void 0:_d.ariaLabel)||(toast.buttons[i].ariaLabel=null),(null===(_e=toast.buttons[i])||void 0===_e?void 0:_e.label)||(console.error("Toaster buttons require a label"),toast.buttons[i].label=null),(null===(_f=toast.buttons[i])||void 0===_f?void 0:_f.callback)||(console.error("Toaster buttons require a callback function"),toast.buttons[i].callback=()=>{}),(null===(_g=toast.buttons[i])||void 0===_g?void 0:_g.autofocus)?toast.autofocus=!1:toast.buttons[i].autofocus=!1;(null==settings?void 0:settings.timer)&&toast.duration!==1/0?("vertical"===settings.timer||"horizontal"===settings.timer?toast.timer=settings.timer:(console.error("Toaster timer value only accpets 'vertical' or 'horizontal'"),toast.timer=null),toast.timerDuration=toast.duration):toast.timer=null,toast.el=new ToastComponent(toast),toast.timer&&(toast.timerEl=toast.el.querySelector("toast-timer")),this.toaster.push(toast);let shell=document.body.querySelector("toaster-component")||null;shell||(shell=document.createElement("toaster-component"),document.body.appendChild(shell)),shell.appendChild(toast.el)}}const globalNotifier=new Notifier,snackbar=globalNotifier.snackbar.bind(globalNotifier),toast=globalNotifier.toast.bind(globalNotifier);customElements.define("snackbar-component",SnackbarComponent),customElements.define("toast-component",ToastComponent);export{Notifier,snackbar,toast};