class l{constructor(){this.subscriptions={}}create(s=this.uid()){return s in this.subscriptions?console.warn(`A subscription has already been created for: ${s}`):this.subscriptions[s]={},s}subscribe(s,n){const t=this.uid();return this.subscriptions?.[s]||this.create(s),this.subscriptions[s][t]=n,t}unsubscribe(s,n=null){if(n===null)for(const t in this.subscriptions){for(const p in this.subscriptions[t])if(s===p){n=t;break}if(n!==null)break}delete this.subscriptions?.[n]?.[s]}publish(s,n){for(const t in this.subscriptions?.[s])this.subscriptions[s][t](n)}destroy(s){delete this.subscriptions?.[s]}uid(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}}const i=new l,r=i.create.bind(i),o=i.destroy.bind(i),u=i.publish.bind(i),b=i.publish.bind(i),c=i.subscribe.bind(i),e=i.unsubscribe.bind(i);export{i as EventBus,r as createSubscription,o as destroySubscription,u as post,b as publish,c as subscribe,e as unsubscribe};
